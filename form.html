<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=1">
<title>Thanks for writing your opinion</title>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
</head>
<style>
*{
    font-family: 'Times New Roman', Times, serif;
}
.back{
    margin: 10px;
    margin-bottom: 10px;
}
.back a{
    color: blue;
    text-decoration: none;
}
.form-container{
	width: 80%;
	margin-left:10px;
    display: flex;
    background: #0d224a;
    padding: 20px;
    border-radius: 10px;
    color: #fff;
}
.input-row{
    margin-bottom: 10px;
}
.input-row label{
	display: block;
	margin-bottom: 3px;
}
.input-row input{
	width: 100%;
	padding: 10px;
	border:0;
	border-radius: 3px;
	outline: 0;
	margin-bottom: 3px;
	font-size: 18px;
	font-family: arial;
}
.input-row button {
    width: 100px;
    border: none;
    height: 40px;
    margin:0 auto;
    display: block;
    text-align: center;
    background: #0688a5;
    color: #ffffff;
    border-radius: 10px;
    cursor: pointer;
}

.dark-mode {
    background-color: #0d1021;
    color: #ffffff;
}
.switch {
    position: relative;
    display: inline-block;
    margin-top: 10px;
    float : right;
    width: 55px;
    height: 30px;
    margin-bottom: 10px;
}

.switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

.slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    transition: 0.4s;
}

.slider:before {
    position: absolute;
    content: "";
    height: 20px;
    width: 20px;
    left: 2px;
    bottom: 4px;
    background-color: #fff;
    transition: 0.4s;
}

input:checked+.slider {
    background-color: #2196F3;
}

input:focus+.slider {
    box-shadow: 0 0 1px #2196F3;
}

input:checked+.slider:before {
    transform: translateX(26px);
}
.slider.round {
    border-radius: 39px;
}

.slider.round:before {
    border-radius: 50%;
}

#overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            align-items: center;
            justify-content: center;
        }

        #modal {
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }

        #closeButton {
            cursor: pointer;
            margin-top: 10px;
            padding: 5px 10px;
            background-color: #007BFF;
            color: #fff;
            border: none;
            border-radius: 5px;
        }
</style>
<body>
    <div id="content" style="display: none;">
        <header>
            <label class="switch">
                <input type="checkbox" id="darkbtn">
                <span class="slider round"></span>
            </label>
        </header>
        <div class="back">
            <a href="main.html">Back</a>
        </div>
        <div class="form-container">
            <form action="https://sheetdb.io/api/v1/khjaphhv95mxo" method="POST" id="sheetdb">
                <h2>Review</h2>
                <div class="input-row">
                    <label>Name <em>*</em></label>
                    <input type="text" name="data[Name]" required id="userName">
                </div>
                <div class="input-row">
                    <label>Number <em>*</em></label>
                    <input type="number" name="data[Number]" required id="userEmail">
                </div>
                <div class="input-row">
                    <label>Your Opinion<em>*</em></label>
                    <input style="width: 210px; height: 90px;" placeholder="Be Free" type="text" name="data[Message]" required id="userPhone">
                </div>
                <div id="overlay">
                    <div id="modal">
                        <p id="modalContent" style="color: black;">Thanks</p>
                        <button id="closeButton" onclick="closeModal()">close</button>
                    </div>
                </div>
                <div class="input-row">
                    <button onclick="openModal()">Submit</button>
                </div>
            </form>
        </div>
</div>
</body>
<script>
    const darkbtn = document.getElementById('darkbtn');
        const body = document.body;

        const isDarkMode = localStorage.getItem('darkMode') === 'enabled';

        if (isDarkMode) {
            body.classList.add('dark-mode');
            darkbtn.checked = true;
        }

        darkbtn.addEventListener('change', () => {
            if (darkbtn.checked) {
                body.classList.add('dark-mode');
                localStorage.setItem('darkMode', 'enabled');
            } else {
                body.classList.remove('dark-mode');
                localStorage.setItem('darkMode', 'disabled');
            }
        });
        //Form Submit
        var form=document.getElementById("sheetdb")
        form.addEventListener("submit", e=>{
        e.preventDefault();
        fetch(form.action,{
            method:"POST",
            body: new FormData(document.getElementById("sheetdb")),
        }).then((html) => {
            window.open('main.html');
        });
})
        //Loading
        $(document).ready(function () {
    setTimeout(function () {
        $("#content").fadeIn(2000);
    }, 200);
});
    //Auto logout
    
let inactivityTime = 0;

function resetTimer() {
    inactivityTime = 0;
}

function checkInactivity() {
    inactivityTime++;
    if (inactivityTime >= 120) {
    alert("Place log in again");
    window.location.href = "index.html";
}
}

document.addEventListener("mousemove", resetTimer);
document.addEventListener("keydown", resetTimer);

setInterval(checkInactivity, 1000);

function openModal() {
        document.getElementById('overlay').style.display = 'flex';
        document.getElementById('modalContent').innerHTML = "Thanks for your feedback.";
    }

    function closeModal() {
        document.getElementById('overlay').style.display = 'none';
    }

</script>
</html>
